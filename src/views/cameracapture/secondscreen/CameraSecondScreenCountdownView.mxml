<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:model="model.*"
		 addedToStage="addedToStageHandler(event)" 
		 removedFromStage="removedFromStageHandler(event)"
		 width="100%" height="100%">
	
	<fx:Metadata>
		[Event(name="COMPLETE", type="events.CameraEvent")]
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			[Bindable]
			public var countdownValue:int;
			
			public function addedToStageHandler(event:Event):void
			{
				cameraDevice.init();
			}
			
			public function removedFromStageHandler(event:Event):void
			{
				cameraDevice.destroy();
			}
			
			public function setTeam(teamID:String):void
			{
				var cupFilename : String = teamID + "_cup.png";
				var file : File = File.documentsDirectory.resolvePath("userdata/greenscreen/cups/" + cupFilename);
				var url : String = file.url;
				cupImage.source = url;
			}
		]]>
	</fx:Script>
	
	<s:layout>
		<s:VerticalLayout horizontalAlign="center"/>
	</s:layout>
	<s:Spacer height="60"/>
	<s:Group>
		<model:CameraDevice id="cameraDevice"/>
		<s:Image id="cupImage" horizontalCenter="0" top="30" height="150"/>
	</s:Group>
	<s:Spacer height="30"/>
	<s:Label id="countdownValueSecond" text="{countdownValue.toString()}"/>
</s:Group>